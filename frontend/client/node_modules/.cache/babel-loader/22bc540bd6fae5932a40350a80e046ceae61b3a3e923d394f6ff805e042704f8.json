{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/OneDrive/Desktop/SUCCESSFUL PROJECTS/Jora mall/frontend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'./AuthContext';// Import useAuth for token and modal\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditProduct(){const{id}=useParams();// Get product ID from URL parameters\nconst navigate=useNavigate();// Hook for navigation\nconst{token,showCustomModal}=useAuth();// Get token and showCustomModal from AuthContext\n// State to hold form data for the product being edited\nconst[formData,setFormData]=useState({name:'',description:'',price:'',stock:'',category:'',imageUrl:''});const[loading,setLoading]=useState(true);// State for initial product load\nconst[submitting,setSubmitting]=useState(false);// State for form submission\nconst[error,setError]=useState(null);// State for error messages\nconst[success,setSuccess]=useState(false);// State for success message\n// Effect to fetch product details when component mounts or ID changes\nuseEffect(()=>{const fetchProduct=async()=>{setLoading(true);setError(null);try{const response=await fetch(\"https://jora-mall-backend.onrender.com/api/products/\".concat(id));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();// Populate form data with fetched product details\nsetFormData({name:data.name,description:data.description,price:data.price.toString(),// Convert number to string for input value\nstock:data.stock.toString(),// Convert number to string for input value\ncategory:data.category,imageUrl:data.imageUrl});}catch(err){setError(err.message);console.error('Error fetching product details for edit:',err);}finally{setLoading(false);}};fetchProduct();},[id]);// Re-run effect if product ID changes\n// Handler for input changes, updates formData state\nconst handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>_objectSpread(_objectSpread({},prevData),{},{[name]:value}));};// Handler for form submission (updating the product)\nconst handleSubmit=async e=>{e.preventDefault();setSubmitting(true);// Indicate submission in progress\nsetError(null);setSuccess(false);try{// Client-side validation\nif(!formData.name||!formData.description||!formData.price||!formData.stock||!formData.category||!formData.imageUrl){throw new Error('All fields are required.');}if(isNaN(formData.price)||parseFloat(formData.price)<=0){throw new Error('Price must be a positive number.');}if(isNaN(formData.stock)||parseInt(formData.stock)<0){throw new Error('Stock must be a non-negative integer.');}const response=await fetch(\"https://jora-mall-backend.onrender.com/api/products/\".concat(id),{method:'PUT',// Use PUT for updating an existing resource\nheaders:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Include JWT token\n},body:JSON.stringify(_objectSpread(_objectSpread({},formData),{},{price:parseFloat(formData.price),// Convert price to float\nstock:parseInt(formData.stock)// Convert stock to integer\n}))});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||\"HTTP error! status: \".concat(response.status));}const data=await response.json();console.log('Product updated successfully:',data);setSuccess(true);showCustomModal('Product updated successfully!',()=>{navigate(\"/product/\".concat(id));// Redirect to updated product detail page\n});}catch(err){console.error('Error updating product:',err);setError(err.message);showCustomModal(\"Failed to update product: \".concat(err.message));}finally{setSubmitting(false);// Reset submitting state\n}};// Display loading message for initial fetch\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex items-center justify-center bg-[#000080] text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-4 text-lg\",children:\"Loading product for editing...\"})]});}// Display error message if initial fetch failed\nif(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex items-center justify-center bg-[#000080] text-red-600\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-semibold\",children:[\"Error loading product: \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"ml-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Go Home\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#000080] p-4 text-white\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"text-center py-8 bg-gradient-to-r from-blue-800 to-indigo-900 rounded-b-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-white tracking-tight\",children:\"Edit Product\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-blue-200 mt-2\",children:\"Modify product details.\"})]}),/*#__PURE__*/_jsx(\"main\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-8 rounded-xl shadow-lg w-full max-w-2xl mx-auto text-gray-800\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block text-sm font-medium text-gray-700\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description,onChange:handleChange,rows:\"4\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"block text-sm font-medium text-gray-700\",children:\"Price ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"price\",name:\"price\",value:formData.price,onChange:handleChange,step:\"0.01\",min:\"0.01\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"stock\",className:\"block text-sm font-medium text-gray-700\",children:\"Stock Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"stock\",name:\"stock\",value:formData.stock,onChange:handleChange,min:\"0\",step:\"1\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"block text-sm font-medium text-gray-700\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"category\",name:\"category\",value:formData.category,onChange:handleChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageUrl\",className:\"block text-sm font-medium text-gray-700\",children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"imageUrl\",name:\"imageUrl\",value:formData.imageUrl,onChange:handleChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm text-center\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 text-sm text-center\",children:\"Product updated successfully!\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",disabled:submitting,children:submitting?'Updating Product...':'Update Product'})]})})}),/*#__PURE__*/_jsx(\"footer\",{className:\"text-center py-6 mt-8 text-blue-200 text-sm\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 \",new Date().getFullYear(),\" Jora Mall. All rights reserved.\"]})})]});}export default EditProduct;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","EditProduct","id","navigate","token","showCustomModal","formData","setFormData","name","description","price","stock","category","imageUrl","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","fetchProduct","response","fetch","concat","ok","Error","status","data","json","toString","err","message","console","handleChange","e","value","target","prevData","_objectSpread","handleSubmit","preventDefault","isNaN","parseFloat","parseInt","method","headers","body","JSON","stringify","errorData","log","className","children","onClick","onSubmit","htmlFor","type","onChange","required","rows","step","min","disabled","Date","getFullYear"],"sources":["C:/Users/HP/OneDrive/Desktop/SUCCESSFUL PROJECTS/Jora mall/frontend/client/src/EditProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from './AuthContext'; // Import useAuth for token and modal\r\n\r\nfunction EditProduct() {\r\n  const { id } = useParams(); // Get product ID from URL parameters\r\n  const navigate = useNavigate(); // Hook for navigation\r\n  const { token, showCustomModal } = useAuth(); // Get token and showCustomModal from AuthContext\r\n\r\n  // State to hold form data for the product being edited\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    stock: '',\r\n    category: '',\r\n    imageUrl: '',\r\n  });\r\n  const [loading, setLoading] = useState(true); // State for initial product load\r\n  const [submitting, setSubmitting] = useState(false); // State for form submission\r\n  const [error, setError] = useState(null); // State for error messages\r\n  const [success, setSuccess] = useState(false); // State for success message\r\n\r\n  // Effect to fetch product details when component mounts or ID changes\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const response = await fetch(`https://jora-mall-backend.onrender.com/api/products/${id}`);\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        // Populate form data with fetched product details\r\n        setFormData({\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price.toString(), // Convert number to string for input value\r\n          stock: data.stock.toString(),   // Convert number to string for input value\r\n          category: data.category,\r\n          imageUrl: data.imageUrl,\r\n        });\r\n      } catch (err) {\r\n        setError(err.message);\r\n        console.error('Error fetching product details for edit:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProduct();\r\n  }, [id]); // Re-run effect if product ID changes\r\n\r\n  // Handler for input changes, updates formData state\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  // Handler for form submission (updating the product)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitting(true); // Indicate submission in progress\r\n    setError(null);\r\n    setSuccess(false);\r\n\r\n    try {\r\n      // Client-side validation\r\n      if (!formData.name || !formData.description || !formData.price || !formData.stock || !formData.category || !formData.imageUrl) {\r\n        throw new Error('All fields are required.');\r\n      }\r\n      if (isNaN(formData.price) || parseFloat(formData.price) <= 0) {\r\n        throw new Error('Price must be a positive number.');\r\n      }\r\n      if (isNaN(formData.stock) || parseInt(formData.stock) < 0) {\r\n        throw new Error('Stock must be a non-negative integer.');\r\n      }\r\n\r\n      const response = await fetch(`https://jora-mall-backend.onrender.com/api/products/${id}`, {\r\n        method: 'PUT', // Use PUT for updating an existing resource\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`, // Include JWT token\r\n        },\r\n        body: JSON.stringify({\r\n          ...formData,\r\n          price: parseFloat(formData.price), // Convert price to float\r\n          stock: parseInt(formData.stock),   // Convert stock to integer\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Product updated successfully:', data);\r\n      setSuccess(true);\r\n      showCustomModal('Product updated successfully!', () => {\r\n        navigate(`/product/${id}`); // Redirect to updated product detail page\r\n      });\r\n\r\n    } catch (err) {\r\n      console.error('Error updating product:', err);\r\n      setError(err.message);\r\n      showCustomModal(`Failed to update product: ${err.message}`);\r\n    } finally {\r\n      setSubmitting(false); // Reset submitting state\r\n    }\r\n  };\r\n\r\n  // Display loading message for initial fetch\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#000080] text-white\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500\"></div>\r\n        <p className=\"ml-4 text-lg\">Loading product for editing...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Display error message if initial fetch failed\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#000080] text-red-600\">\r\n        <p className=\"text-xl font-semibold\">Error loading product: {error}</p>\r\n        <button\r\n          onClick={() => navigate('/')}\r\n          className=\"ml-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\r\n        >\r\n          Go Home\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#000080] p-4 text-white\">\r\n      <header className=\"text-center py-8 bg-gradient-to-r from-blue-800 to-indigo-900 rounded-b-xl shadow-lg mb-8\">\r\n        <h1 className=\"text-4xl font-extrabold text-white tracking-tight\">Edit Product</h1>\r\n        <p className=\"text-xl text-blue-200 mt-2\">Modify product details.</p>\r\n      </header>\r\n\r\n      <main className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"bg-white p-8 rounded-xl shadow-lg w-full max-w-2xl mx-auto text-gray-800\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Product Name */}\r\n            <div>\r\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Product Name</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n              <textarea\r\n                id=\"description\"\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                rows=\"4\"\r\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                required\r\n              ></textarea>\r\n            </div>\r\n\r\n            {/* Price and Stock */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label htmlFor=\"price\" className=\"block text-sm font-medium text-gray-700\">Price ($)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"price\"\r\n                  name=\"price\"\r\n                  value={formData.price}\r\n                  onChange={handleChange}\r\n                  step=\"0.01\"\r\n                  min=\"0.01\"\r\n                  className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"stock\" className=\"block text-sm font-medium text-gray-700\">Stock Quantity</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"stock\"\r\n                  name=\"stock\"\r\n                  value={formData.stock}\r\n                  onChange={handleChange}\r\n                  min=\"0\"\r\n                  step=\"1\"\r\n                  className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Category */}\r\n            <div>\r\n              <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">Category</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"category\"\r\n                name=\"category\"\r\n                value={formData.category}\r\n                onChange={handleChange}\r\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Image URL */}\r\n            <div>\r\n              <label htmlFor=\"imageUrl\" className=\"block text-sm font-medium text-gray-700\">Image URL</label>\r\n              <input\r\n                type=\"url\"\r\n                id=\"imageUrl\"\r\n                name=\"imageUrl\"\r\n                value={formData.imageUrl}\r\n                onChange={handleChange}\r\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Error and Success Messages */}\r\n            {error && (\r\n              <p className=\"text-red-600 text-sm text-center\">{error}</p>\r\n            )}\r\n            {success && (\r\n              <p className=\"text-green-600 text-sm text-center\">Product updated successfully!</p>\r\n            )}\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n              disabled={submitting}\r\n            >\r\n              {submitting ? 'Updating Product...' : 'Update Product'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </main>\r\n\r\n      <footer className=\"text-center py-6 mt-8 text-blue-200 text-sm\">\r\n        <p>&copy; {new Date().getFullYear()} Jora Mall. All rights reserved.</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditProduct;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}